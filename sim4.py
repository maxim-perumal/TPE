# coding: utf-8

import sys
import random
import math
import os
import pygame
from socket import *
from pygame.locals import *

SCREEN_X = 1600
SCREEN_Y = 900
DIFF_ANGLE = 3.14/3

"""Soit Rect la hitbox, et les sprite les elements de rendus."""

def load_img(name):
    """Charge une image et retourne un objet image compatible Pygame
        il est necessaire de stocker les images dans un dossier data"""
    path = os.path.join('data', name)
    image = pygame.image.load(path)
    if image.get_alpha is None:
        image = image.convert()
    else:
        image = image.convert_alpha()

    return image, image.get_rect()

def sigmoid(x):
    return 1/(1 + math.exp(-x))

def VectorVector_scalar(vectorA, vectorB):
    """ N diemnsional. Return a float as a scalar resulting from vectorA * vectorB"""
    result = 0
    for i in range(0, len(vectorA)):
        result += vectorA[i] * vectorB[i]
    return result

class Neuron():
    """docstring for Neuron."""
    def __init__(self, activation_function):
        self.activation_function = activation_function
        self.weight = []

    def adjust_weight(self, weight):
        self.weight = weight

    def weight(self):
        return self.weight

    def compute(self, input_signal):
        return self.activation_function(VectorVector_scalar(input_signal, self.weight))

def train_Neuron_linear_classifier_2D_turn(neuron, database):

    score = 0
    while (score < ( len(database)) * 0.70):
        score = 0
        neuron.adjust_weight([random.uniform(-1,1) ,random.uniform(-1,1) ,random.uniform(-1,1)])

        output = 0.5
        for i in range(0, len(database)):

            if (neuron.compute( [database[i][0],database[i][1],database[i][2]] ) > 0.5):
                output = 1
            else:
                output = 0

            if (output == database[i][3]):
                score += 1

    print(neuron.weight)
    return neuron

def train_Neuron_linear_classifier_2D_leftOrRight(neuron, database):

    score = 0
    while (score < ( len(database)) * 0.70):
        score = 0
        neuron.adjust_weight([random.uniform(-1,1) ,random.uniform(-1,1) ,random.uniform(-1,1)])

        output = 0.5
        for i in range(0, len(database)):

            if (neuron.compute( [database[i][0],database[i][1],database[i][2]] ) > 0.5):
                output = 1
            else:
                output = 0

            if (output == database[i][4]):
                score += 1

    print(neuron.weight)
    return neuron

class Obstacle(pygame.sprite.Sprite):
    """Un obstacle de graphisme obstacle.png,
    hérite de la class Sprite de Pygame.
    Return: sprite objet Obstacle (pour rendus)
    Method: update"""

    def __init__(self, color, width, height):
        pygame.sprite.Sprite.__init__(self)
        self.image = pygame.Surface([width, height])
        self.image.fill(color)
        self.rect = (random.randint(0,SCREEN_X), random.randint(0,SCREEN_Y) , width, height)



class Car(pygame.sprite.Sprite):
    """Une voiture de graphisme car.png et de control car_ai,
    hérite de la class Sprite de Pygame.
    Return: sprite objet Car (pour rendus)
    Method: update_car, calc_newpos
    Atributes: area, vector"""

    def __init__(self, vector):
        """ Initialisation du Sprite et de Car"""
        pygame.sprite.Sprite.__init__(self)
        self.image, self.rect = load_img('car.png')
        screen = pygame.display.get_surface()
        self.area = screen.get_rect()
        self.vector = vector

    def update_car(self, newPos):
        """Actualisation de l'objet Car dans la simulation"""
        self.rect = newPos
        #print("    X: " + str(self.getX()) + "    Y: " + str(self.getY()) + "    Z: " + str(self.getZ()))

    def calc_newpos(self, rect, vector):
        """Calcul de la position en x,y d'après un vecteur de mouvement"""
        (angle,z) = vector
        (x,y) = (10*z*math.cos(angle),10*z*math.sin(angle))
        return rect.move((round(x),-round(y)))

    def obstacle_detected(self, newPos):
        if self.area.contains(newPos):
            for obstacle in Obstacle_list:
                if self.rect.colliderect(obstacle.rect):
                    return True
            return False
        else:
            return True

    def calc_vectorNorm(self, vector):
        (angle,z) = vector
        (x,y) = (z*math.cos(angle),z*math.sin(angle))
        norm = math.sqrt((x)**2 + (y)**2)
        return norm

    def getX(self):
        (angle,z) = self.vector

        Yvector = (angle - DIFF_ANGLE,z)
        vectorIsMax = False

        while (vectorIsMax == False):

            if (self.obstacle_detected(self.calc_newpos(self.rect, Yvector))):
                vectorIsMax = True

            (angle,z) = Yvector
            Yvector = (angle,z + 1)

        return self.calc_vectorNorm(Yvector)

    def getY(self):
        (angle,z) = self.vector

        Yvector = (angle,z)
        vectorIsMax = False

        if (self.obstacle_detected(self.calc_newpos(self.rect, Yvector))):
            vectorIsMax = True

        while (vectorIsMax == False):

            if (self.obstacle_detected(self.calc_newpos(self.rect, Yvector))):
                vectorIsMax = True
                break

            (angle,z) = Yvector
            Yvector = (angle,z + 0.1)

        return self.calc_vectorNorm(Yvector)

    def getZ(self):
        (angle,z) = self.vector

        Yvector = (angle  + DIFF_ANGLE,z)
        vectorIsMax = False

        while (vectorIsMax == False):

            if (self.obstacle_detected(self.calc_newpos(self.rect, Yvector))):
                vectorIsMax = True

            (angle,z) = Yvector
            Yvector = (angle,z + 1)

        return self.calc_vectorNorm(Yvector)

    def turn_180(self):
        (angle,z) = self.vector
        angle = 3.14 + angle
        self.vector = (angle,z)

    def turn_deg(self, Xdeg):
        (angle,z) = self.vector
        Xrad = Xdeg * 3.14/180
        angle = Xrad + angle
        self.vector = (angle,z)

    def turn_rad(self, Xrad):
        (angle,z) = self.vector
        self.vector = (angle + Xrad,z)

    def change_speed(self, delta):
        (angle,z) = self.vector
        self.vector = (angle,z + delta)

    def set_speed(self, speed):
        (angle,z) = self.vector
        self.vector = (angle,speed)

class Car_ai(Car):
    """Class de controle de la voiture, contient la logique de ces mouvements,
    hérite de la class Car.
    Return: sprite objet Car (pour rendus)
    Method: update
    Atributes: area, vector"""

    def __init__(self):
        """Initialisation de Car et du Sprite"""
        speed = 1
        self.hit = 0
        self.vector = (-1,speed)
        Car.__init__(self, self.vector)
        newPos = self.calc_newpos(self.rect,(-3.14/4,50))
        self.update_car(newPos)

    def update(self):
        """Actualiste la position de la voiture, appelé a chaque Frame"""
        Y = self.getY()
        X = self.getX()
        Z = self.getZ()

        if (turn_hypothesis.compute([X,Y,Z]) > 0.5):
            if (leftOrRight_hypothesis.compute([X,Y,Z]) < 0.5):
                self.turn_rad( (-3.14) / Y )
            else:
                self.turn_rad( (3.14) / Y )
        newPos = self.calc_newpos(self.rect,self.vector)
        self.update_car(newPos)
        #print("[" + str(X) + "," + str(Y) + "," + str(Z) + "," + str(turn) + "," + str(turn_side) + "]" + ",")

database = [[87.0,38.20000000000027,8.0,1,0],
[84.0,37.700000000000266,8.0,1,0],
[81.99999999999999,37.40000000000026,9.0,1,0],
[80.0,37.50000000000026,11.0,1,0],
[79.0,37.900000000000276,12.0,1,0],
[78.0,38.60000000000028,14.999999999999998,1,0],
[78.0,39.700000000000294,19.0,1,0],
[78.0,41.100000000000314,24.0,0,0],
[77.0,40.1000000000003,26.0,0,0],
[77.0,39.000000000000284,28.0,1,0],
[77.0,41.00000000000031,31.999999999999996,0,0],
[77.0,40.0000000000003,31.0,0,0],
[76.0,39.000000000000284,29.999999999999996,1,0],
[77.0,41.50000000000032,29.0,0,0],
[76.0,40.400000000000304,28.0,0,0],
[75.0,39.30000000000029,28.0,1,0],
[77.0,42.40000000000033,27.0,0,0],
[76.0,41.40000000000031,25.999999999999996,0,0],
[75.0,40.400000000000304,25.999999999999996,0,0],
[74.0,39.40000000000029,25.000000000000004,1,0],
[76.0,43.40000000000035,24.0,0,0],
[75.0,42.40000000000033,24.0,0,0],
[74.0,41.50000000000032,23.0,0,0],
[73.0,40.500000000000306,23.0,0,0],
[72.0,39.6000000000003,22.0,1,0],
[75.0,44.40000000000037,22.000000000000004,0,0],
[74.0,43.300000000000345,21.0,0,0],
[73.0,42.30000000000034,21.0,0,0],
[72.0,41.200000000000315,20.0,0,0],
[70.0,40.1000000000003,20.0,0,0],
[69.0,39.000000000000284,19.0,1,0],
[72.0,45.300000000000374,19.0,0,0],
[71.0,44.30000000000036,19.0,0,0],
[70.0,43.20000000000034,18.0,0,0],
[69.0,42.20000000000033,18.0,0,0],
[68.0,41.200000000000315,17.0,0,0],
[67.0,40.1000000000003,17.0,0,0],
[65.0,39.100000000000286,17.0,1,0],
[68.0,47.600000000000406,17.0,0,0],
[67.0,46.60000000000039,15.999999999999998,0,0],
[66.0,45.70000000000038,15.999999999999998,0,0],
[63.99999999999999,44.700000000000365,15.999999999999998,0,0],
[62.99999999999999,43.700000000000344,15.0,0,0],
[61.99999999999999,42.80000000000034,15.0,0,0],
[60.0,41.800000000000324,15.0,0,0],
[59.0,40.8000000000003,13.999999999999998,0,0],
[57.99999999999999,39.90000000000029,13.999999999999998,1,0],
[61.0,42.100000000000335,14.000000000000002,0,0],
[59.0,41.00000000000031,14.000000000000002,0,0],
[57.99999999999999,40.000000000000306,14.000000000000002,0,0],
[56.0,39.000000000000284,14.000000000000002,1,0],
[60.0,37.40000000000026,14.0,1,0],
[65.0,36.00000000000024,14.0,1,0],
[73.0,34.90000000000022,15.0,1,0],
[85.0,34.100000000000215,16.0,1,0],
[104.00000000000001,33.500000000000206,17.0,1,0],
[139.0,33.3000000000002,19.0,1,0],
[144.0,33.400000000000205,21.0,1,0],
[142.0,33.90000000000021,24.999999999999996,1,0],
[142.0,34.800000000000225,29.999999999999996,1,0],
[142.0,36.10000000000024,32.0,1,0],
[144.0,37.90000000000027,31.0,1,0],
[146.0,40.2000000000003,29.0,0,0],
[146.0,39.20000000000029,28.0,1,0],
[149.0,42.10000000000033,26.999999999999996,0,0],
[148.0,41.10000000000032,26.999999999999996,0,0],
[147.0,40.1000000000003,26.0,0,0],
[146.0,39.20000000000029,26.0,1,0],
[134.0,42.90000000000034,25.0,0,0],
[135.0,42.00000000000033,24.0,0,0],
[136.0,41.100000000000314,24.0,0,0],
[138.0,40.20000000000031,23.0,0,0],
[139.0,39.30000000000029,23.0,1,0],
[121.0,43.80000000000035,22.0,0,0],
[122.0,42.80000000000034,22.0,0,0],
[123.0,41.70000000000032,20.999999999999996,0,0],
[124.0,40.70000000000031,20.999999999999996,0,0],
[124.99999999999999,39.700000000000294,20.0,1,0],
[112.0,45.60000000000038,20.0,0,0],
[112.99999999999999,44.600000000000364,20.0,0,0],
[112.99999999999999,43.60000000000035,19.0,0,0],
[113.99999999999999,42.60000000000033,19.0,0,0],
[115.0,41.60000000000032,19.0,0,0],
[115.0,40.60000000000031,18.0,0,0],
[116.0,39.700000000000294,18.0,1,0],
[105.0,47.500000000000405,18.0,0,0],
[106.0,46.60000000000039,17.0,0,0],
[106.0,45.70000000000038,17.0,0,0],
[107.0,44.80000000000037,17.0,0,0],
[107.0,43.900000000000354,16.0,0,0],
[108.0,43.00000000000034,16.0,0,0],
[108.0,42.10000000000033,16.0,0,0],
[109.00000000000001,41.200000000000315,15.0,0,0],
[109.00000000000001,40.30000000000031,15.0,0,0],
[110.0,39.40000000000029,15.0,1,0],
[101.0,49.80000000000044,15.0,0,0],
[102.0,48.70000000000042,13.999999999999998,0,0],
[102.0,47.500000000000405,13.999999999999998,0,0],
[102.0,46.30000000000039,13.999999999999998,0,0],
[103.0,45.20000000000037,13.999999999999998,0,0],
[103.0,44.00000000000036,12.999999999999998,0,0],
[104.0,42.90000000000033,12.999999999999998,0,0],
[104.0,41.70000000000032,12.999999999999998,0,0],
[105.0,40.500000000000306,11.999999999999998,0,0],
[105.0,39.40000000000029,11.999999999999998,1,0],
[98.0,55.20000000000052,12.0,0,0],
[98.0,54.100000000000506,12.0,0,0],
[98.0,53.00000000000048,12.0,0,0],
[99.0,51.90000000000047,11.0,0,0],
[99.0,50.80000000000045,11.0,0,0],
[99.0,49.70000000000044,11.0,0,0],
[99.0,48.60000000000043,11.0,0,0],
[100.0,47.400000000000404,11.0,0,0],
[100.0,46.300000000000395,10.0,0,0],
[100.0,45.20000000000038,10.0,0,0],
[100.0,44.10000000000036,10.0,0,0],
[101.0,43.00000000000034,10.0,0,0],
[101.0,41.900000000000325,10.0,0,0],
[101.0,40.80000000000031,9.0,0,0],
[102.0,39.7000000000003,9.0,1,0],
[96.0,69.10000000000035,9.0,0,0],
[96.0,68.1000000000004,9.0,0,0],
[96.0,67.10000000000046,9.0,0,0],
[96.0,66.10000000000052,9.0,0,0],
[96.0,65.20000000000057,9.0,0,0],
[96.0,64.20000000000063,9.0,0,0],
[96.0,63.20000000000062,9.0,0,0],
[96.0,62.200000000000614,8.0,0,0],
[97.0,61.2000000000006,8.0,0,0],
[97.0,60.30000000000059,8.0,0,0],
[97.0,59.30000000000057,8.0,0,0],
[97.0,58.30000000000056,8.0,0,0],
[97.0,57.300000000000544,8.0,0,0],
[97.0,56.40000000000053,8.0,0,0],
[97.0,55.40000000000052,8.0,0,0],
[97.0,54.400000000000496,8.0,0,0],
[97.99999999999999,53.40000000000049,7.0,0,0],
[97.99999999999999,52.40000000000047,7.0,0,0],
[97.99999999999999,51.500000000000455,7.0,0,0],
[97.99999999999999,50.50000000000045,7.0,0,0],
[97.99999999999999,49.500000000000426,7.0,0,0],
[97.99999999999999,48.50000000000042,7.0,0,0],
[97.99999999999999,47.5000000000004,7.0,0,0],
[97.99999999999999,46.60000000000039,7.0,0,0],
[99.0,45.60000000000038,7.0,0,0],
[99.0,44.600000000000364,6.0,0,0],
[99.0,43.60000000000035,6.0,0,0],
[99.0,42.600000000000335,6.0,0,0],
[97.99999999999999,41.70000000000032,6.0,0,0],
[96.0,40.70000000000031,6.0,0,0],
[94.0,39.700000000000294,6.0,1,0],
[94.0,53.40000000000048,5.999999999999999,0,0],
[94.0,52.40000000000047,5.999999999999999,0,0],
[94.0,51.40000000000045,5.999999999999999,0,0],
[94.0,50.40000000000044,5.999999999999999,0,0],
[94.0,49.40000000000043,5.999999999999999,0,0],
[94.0,48.40000000000042,5.999999999999999,0,0],
[92.0,47.400000000000404,5.999999999999999,0,0],
[91.00000000000001,46.40000000000039,5.999999999999999,0,0],
[89.0,45.400000000000375,5.999999999999999,0,0],
[87.0,44.400000000000354,5.999999999999999,0,0],
[85.0,43.40000000000034,5.999999999999999,0,0],
[83.0,42.400000000000325,5.999999999999999,0,0],
[81.0,41.40000000000031,5.999999999999999,0,0],
[79.0,40.400000000000304,5.999999999999999,0,0],
[77.0,39.40000000000029,5.999999999999999,1,0],
[87.0,38.50000000000028,6.0,1,0],
[87.0,37.80000000000026,7.0,1,0],
[84.00000000000001,37.30000000000026,8.0,1,0],
[82.0,37.10000000000026,9.0,1,0],
[79.99999999999999,37.30000000000026,10.0,1,0],
[79.0,37.80000000000027,11.999999999999998,1,0],
[79.0,38.60000000000028,14.999999999999998,1,0],
[79.0,39.800000000000296,19.0,1,0],
[79.0,41.40000000000032,25.0,0,0],
[77.99999999999999,40.3000000000003,27.000000000000004,0,0],
[77.0,39.30000000000029,29.0,1,0],
[78.0,41.30000000000032,31.0,0,0],
[77.0,40.3000000000003,31.0,0,0],
[77.0,39.30000000000029,30.0,1,0],
[78.0,42.00000000000032,28.999999999999996,0,0],
[77.0,41.10000000000031,28.0,0,0],
[76.0,40.2000000000003,28.0,0,0],
[75.0,39.20000000000029,26.999999999999996,1,0],
[77.0,42.500000000000334,26.0,0,0],
[76.0,41.50000000000032,25.0,0,0],
[75.0,40.400000000000304,25.0,0,0],
[74.0,39.40000000000029,24.0,1,0],
[76.0,43.60000000000035,24.0,0,0],
[75.0,42.600000000000335,22.999999999999996,0,0],
[74.0,41.60000000000032,22.999999999999996,0,0],
[73.0,40.60000000000031,22.0,0,0],
[72.0,39.700000000000294,22.0,1,0],
[74.0,45.00000000000038,20.999999999999996,0,0],
[73.0,44.10000000000036,20.999999999999996,0,0],
[72.0,43.20000000000035,20.0,0,0],
[71.0,42.30000000000033,20.0,0,0],
[70.0,41.40000000000032,20.0,0,0],
[69.0,40.500000000000306,19.0,0,0],
[68.0,39.6000000000003,19.0,1,0],
[71.0,46.30000000000039,19.0,0,0],
[70.0,45.20000000000037,18.0,0,0],
[68.0,44.100000000000364,18.0,0,0],
[67.0,43.00000000000035,17.0,0,0],
[66.0,41.900000000000325,17.0,0,0],
[65.0,40.80000000000031,17.0,0,0],
[63.99999999999999,39.7000000000003,16.0,1,0],
[67.0,48.900000000000425,16.0,0,0],
[66.0,47.80000000000041,16.0,0,0],
[64.0,46.800000000000395,16.0,0,0],
[63.00000000000001,45.80000000000038,15.000000000000002,0,0],
[61.00000000000001,44.700000000000365,15.000000000000002,0,0],
[60.0,43.70000000000035,15.000000000000002,0,0],
[59.0,42.700000000000344,14.0,0,0],
[57.0,41.70000000000032,14.0,0,0],
[56.0,40.600000000000314,14.0,0,0],
[55.0,39.60000000000029,13.0,1,0],
[57.99999999999999,38.80000000000028,12.999999999999998,1,0],
[62.00000000000001,37.20000000000026,14.0,1,0],
[67.0,35.90000000000024,14.0,1,0],
[76.0,34.900000000000226,15.0,1,0],
[89.0,34.20000000000022,16.0,1,0],
[110.0,33.70000000000021,17.0,1,0],
[146.0,33.500000000000206,19.0,1,0],
[144.0,33.70000000000021,22.0,1,0],
[142.0,34.200000000000216,26.000000000000004,1,0],
[142.0,35.20000000000023,32.0,1,0],
[143.0,36.60000000000025,32.0,1,0],
[144.0,38.50000000000028,30.0,1,0],
[147.0,40.90000000000031,29.000000000000004,0,0],
[146.0,39.800000000000296,28.0,1,0],
[149.00000000000003,42.80000000000033,27.000000000000004,0,0],
[149.00000000000003,41.800000000000324,27.000000000000004,0,0],
[148.0,40.8000000000003,26.000000000000004,0,0],
[147.0,39.800000000000296,26.000000000000004,1,0],
[131.0,43.700000000000344,24.999999999999996,0,0],
[132.0,42.80000000000033,24.0,0,0],
[133.0,41.800000000000324,24.0,0,0],
[134.0,40.90000000000031,23.0,0,0],
[136.0,40.0000000000003,23.0,0,0],
[137.0,39.100000000000286,21.999999999999996,1,0],
[120.0,43.80000000000035,22.0,0,0],
[121.0,42.70000000000034,21.0,0,0],
[121.99999999999999,41.60000000000032,21.0,0,0],
[123.0,40.60000000000031,20.0,0,0],
[124.0,39.50000000000029,20.0,1,0],
[111.0,45.60000000000038,20.0,0,0],
[112.0,44.600000000000364,19.0,0,0],
[112.0,43.60000000000035,19.0,0,0],
[113.0,42.600000000000335,18.0,0,0],
[114.0,41.60000000000032,18.0,0,0],
[114.0,40.60000000000031,18.0,0,0],
[115.0,39.60000000000029,17.0,1,0],
[105.0,47.70000000000041,17.0,0,0],
[105.0,46.800000000000395,17.0,0,0],
[106.0,45.90000000000038,17.0,0,0],
[106.0,44.900000000000375,16.0,0,0],
[107.0,44.00000000000036,16.0,0,0],
[107.0,43.10000000000034,16.0,0,0],
[107.0,42.100000000000335,15.0,0,0],
[108.0,41.200000000000315,15.0,0,0],
[108.0,40.30000000000031,15.0,0,0],
[108.99999999999999,39.30000000000029,14.0,1,0],
[100.0,50.80000000000045,14.0,0,0],
[101.0,50.00000000000045,14.0,0,0],
[101.0,49.10000000000043,14.0,0,0],
[101.0,48.300000000000416,14.0,0,0],
[102.0,47.500000000000405,14.0,0,0],
[102.0,46.700000000000394,13.000000000000002,0,0],
[102.0,45.90000000000038,13.000000000000002,0,0],
[102.0,45.10000000000037,13.000000000000002,0,0],
[102.99999999999999,44.30000000000036,13.000000000000002,0,0],
[102.99999999999999,43.40000000000035,13.000000000000002,0,0],
[102.99999999999999,42.600000000000335,12.000000000000002,0,0],
[102.99999999999999,41.800000000000324,12.000000000000002,0,0],
[104.0,41.00000000000031,12.000000000000002,0,0],
[104.0,40.20000000000031,12.000000000000002,0,0],
[104.0,39.40000000000029,12.000000000000002,1,0],
[97.0,56.50000000000053,12.000000000000002,0,0],
[98.0,55.300000000000516,11.0,0,0],
[98.0,54.1000000000005,11.0,0,0],
[98.0,52.90000000000048,11.0,0,0],
[98.0,51.700000000000465,11.0,0,0],
[99.0,50.50000000000045,11.0,0,0],
[99.0,49.30000000000043,10.0,0,0],
[99.0,48.10000000000042,10.0,0,0],
[100.0,46.9000000000004,10.0,0,0],
[100.0,45.70000000000038,10.0,0,0],
[100.0,44.50000000000036,9.0,0,0],
[100.0,43.300000000000345,9.0,0,0],
[101.0,42.10000000000033,9.0,0,0],
[101.0,40.90000000000031,9.0,0,0],
[101.0,39.800000000000296,9.0,1,0],
[95.0,73.4000000000001,9.0,0,0],
[95.0,72.30000000000015,9.0,0,0],
[96.0,71.20000000000023,9.0,0,0],
[96.0,70.10000000000029,8.0,0,0],
[96.0,68.90000000000036,8.0,0,0],
[96.0,67.80000000000042,8.0,0,0],
[96.0,66.70000000000049,8.0,0,0],
[96.0,65.60000000000053,8.0,0,0],
[96.0,64.50000000000061,8.0,0,0],
[96.0,63.30000000000063,8.0,0,0],
[97.00000000000001,62.200000000000614,8.0,0,0],
[97.00000000000001,61.1000000000006,8.0,0,0],
[97.00000000000001,60.00000000000058,7.0,0,0],
[97.00000000000001,58.90000000000057,7.0,0,0],
[97.00000000000001,57.70000000000055,7.0,0,0],
[97.00000000000001,56.600000000000534,7.0,0,0],
[97.00000000000001,55.500000000000526,7.0,0,0],
[97.00000000000001,54.400000000000496,7.0,0,0],
[98.0,53.30000000000049,7.0,0,0],
[98.0,52.10000000000047,7.0,0,0],
[98.0,51.000000000000455,7.0,0,0],
[98.0,49.90000000000044,6.0,0,0],
[98.0,48.80000000000042,6.0,0,0],
[98.0,47.70000000000041,6.0,0,0],
[96.0,46.500000000000384,6.0,0,0],
[95.0,45.40000000000037,6.0,0,0],
[93.0,44.30000000000036,6.0,0,0],
[91.0,43.200000000000344,6.0,0,0],
[89.0,42.10000000000033,6.0,0,0],
[88.0,40.90000000000031,6.0,0,0],
[86.0,39.8000000000003,5.0,1,0],
[94.0,47.600000000000406,6.0,0,0],
[93.0,46.60000000000039,6.0,0,0],
[91.0,45.60000000000037,6.0,0,0],
[89.0,44.600000000000364,6.0,0,0],
[87.0,43.60000000000035,6.0,0,0],
[85.0,42.600000000000335,6.0,0,0],
[83.0,41.60000000000032,6.0,0,0],
[81.0,40.6000000000003,6.0,0,0],
[79.0,39.60000000000029,6.0,1,0],
[89.0,38.70000000000028,5.999999999999999,1,0],
[87.0,38.00000000000027,6.0,1,0],
[84.0,37.60000000000027,7.0,1,0],
[82.0,37.50000000000026,8.0,1,0],
[80.99999999999999,37.700000000000266,9.0,1,0],
[80.0,38.20000000000027,11.0,1,0],
[79.0,39.100000000000286,14.0,1,0],
[79.0,40.3000000000003,18.0,0,0],
[79.0,39.30000000000029,19.0,1,0],
[79.0,41.00000000000031,24.999999999999996,0,0],
[78.0,40.1000000000003,27.999999999999996,0,0],
[77.0,39.100000000000286,30.0,1,0],
[78.0,41.30000000000032,30.999999999999996,0,0],
[77.0,40.30000000000031,29.999999999999996,0,0],
[77.0,39.30000000000029,29.000000000000004,1,0],
[78.0,42.00000000000033,27.999999999999996,0,0],
[77.0,41.100000000000314,27.999999999999996,0,0],
[76.0,40.1000000000003,27.0,0,0],
[75.0,39.20000000000029,27.0,1,0],
[77.0,42.500000000000334,26.0,0,0],
[76.0,41.50000000000032,25.000000000000004,0,0],
[75.0,40.400000000000304,25.000000000000004,0,0],
[74.0,39.30000000000029,24.0,1,0],
[76.0,43.60000000000035,22.999999999999996,0,0],
[75.0,42.600000000000335,22.999999999999996,0,0],
[74.00000000000001,41.60000000000032,22.0,0,0],
[73.0,40.60000000000031,22.0,0,0],
[72.0,39.60000000000029,21.0,1,0],
[75.0,45.20000000000037,21.0,0,0],
[74.0,44.20000000000036,21.0,0,0],
[73.0,43.300000000000345,20.000000000000004,0,0],
[72.0,42.40000000000033,20.000000000000004,0,0],
[70.0,41.40000000000032,19.0,0,0],
[69.0,40.500000000000306,19.0,0,0],
[68.0,39.60000000000029,19.0,1,0],
[71.0,46.50000000000039,18.0,0,0],
[70.0,45.400000000000375,18.0,0,0],
[69.0,44.30000000000036,18.0,0,0],
[68.0,43.200000000000344,17.0,0,0],
[67.0,42.00000000000033,17.0,0,0],
[65.0,40.90000000000031,16.0,0,0],
[64.0,39.800000000000296,16.0,1,0],
[67.0,49.20000000000043,15.999999999999998,0,0],
[66.0,48.200000000000415,15.999999999999998,0,0],
[65.0,47.1000000000004,14.999999999999998,0,0],
[63.0,46.100000000000385,14.999999999999998,0,0],
[61.99999999999999,45.00000000000037,14.999999999999998,0,0],
[60.0,43.900000000000354,13.999999999999998,0,0],
[59.0,42.90000000000034,13.999999999999998,0,0],
[57.99999999999999,41.800000000000324,13.999999999999998,0,0],
[56.0,40.80000000000031,12.999999999999998,0,0],
[55.0,39.700000000000294,12.999999999999998,1,0],
[58.0,38.60000000000028,12.999999999999998,1,0],
[62.00000000000001,37.10000000000026,13.000000000000002,1,0],
[68.0,35.80000000000024,14.0,1,0],
[77.0,34.80000000000022,15.0,1,0],
[91.0,34.100000000000215,15.0,1,0],
[114.0,33.70000000000021,17.0,1,0],
[146.0,33.60000000000021,19.0,1,0],
[144.0,33.90000000000021,22.0,1,0],
[142.0,34.40000000000022,26.000000000000004,1,0],
[142.0,35.40000000000023,31.999999999999996,1,0],
[143.0,36.80000000000025,31.999999999999996,1,0],
[145.0,38.80000000000028,30.0,1,0],
[147.0,41.200000000000315,29.000000000000004,0,0],
[147.0,40.1000000000003,28.000000000000004,0,0],
[146.0,39.000000000000284,28.000000000000004,1,0],
[148.0,42.10000000000033,27.0,0,0],
[149.0,41.100000000000314,26.000000000000004,0,0],
[148.0,40.1000000000003,26.000000000000004,0,0],
[147.0,39.100000000000286,25.0,1,0],
[130.0,43.10000000000034,24.0,0,0],
[131.0,42.100000000000335,24.0,0,0],
[132.0,41.200000000000315,23.0,0,0],
[133.0,40.2000000000003,23.0,0,0],
[134.0,39.30000000000029,22.0,1,0],
[118.0,44.10000000000036,21.999999999999996,0,0],
[119.00000000000001,43.10000000000034,21.0,0,0],
[120.0,42.00000000000033,21.0,0,0],
[120.99999999999999,40.90000000000031,20.0,0,0],
[122.00000000000001,39.8000000000003,20.0,1,0],
[110.0,46.100000000000385,19.0,0,0],
[111.0,45.10000000000037,19.0,0,0],
[111.0,44.00000000000036,19.0,0,0],
[111.99999999999999,43.00000000000034,18.0,0,0],
[113.0,42.00000000000033,18.0,0,0],
[113.0,40.90000000000032,17.0,0,0],
[114.0,39.9000000000003,17.0,1,0],
[104.0,48.300000000000416,17.0,0,0],
[104.0,47.300000000000395,17.0,0,0],
[105.0,46.40000000000039,15.999999999999998,0,0],
[105.0,45.400000000000375,15.999999999999998,0,0],
[106.0,44.50000000000036,15.999999999999998,0,0],
[106.0,43.500000000000355,15.0,0,0],
[107.0,42.60000000000033,15.0,0,0],
[107.0,41.60000000000032,15.0,0,0],
[108.0,40.60000000000031,15.0,0,0],
[108.0,39.700000000000294,14.000000000000002,1,0],
[100.0,51.50000000000046,14.0,0,0],
[100.0,50.70000000000045,14.0,0,0],
[101.0,49.80000000000044,14.0,0,0],
[101.0,49.000000000000426,14.0,0,0],
[101.0,48.10000000000042,13.0,0,0],
[101.0,47.30000000000041,13.0,0,0],
[102.0,46.5000000000004,13.0,0,0],
[102.0,45.60000000000038,13.0,0,0],
[102.0,44.80000000000037,13.0,0,0],
[102.0,43.90000000000036,12.0,0,0],
[103.0,43.10000000000035,12.0,0,0],
[103.0,42.30000000000034,12.0,0,0],
[103.0,41.40000000000032,12.0,0,0],
[103.99999999999999,40.60000000000031,12.0,0,0],
[103.99999999999999,39.7000000000003,11.0,1,0],
[97.00000000000001,57.60000000000055,11.0,0,0],
[97.00000000000001,56.40000000000053,11.0,0,0],
[98.0,55.10000000000051,11.0,0,0],
[98.0,53.900000000000496,11.0,0,0],
[98.0,52.70000000000048,11.0,0,0],
[98.0,51.40000000000045,10.0,0,0],
[99.0,50.200000000000436,10.0,0,0],
[99.0,48.900000000000425,10.0,0,0],
[99.0,47.70000000000041,10.0,0,0],
[99.0,46.40000000000039,9.0,0,0],
[99.99999999999999,45.20000000000037,9.0,0,0],
[99.99999999999999,43.900000000000354,9.0,0,0],
[99.99999999999999,42.70000000000034,9.0,0,0],
[101.0,41.40000000000032,9.0,0,0],
[101.0,40.2000000000003,8.0,0,0],
[101.0,39.000000000000284,8.0,1,0],
[95.0,76.19999999999995,7.999999999999999,0,0],
[95.0,75.00000000000001,7.999999999999999,0,0],
[96.0,73.8000000000001,7.999999999999999,0,0],
[96.0,72.50000000000016,7.999999999999999,0,0],
[96.0,71.30000000000022,7.999999999999999,0,0],
[96.0,70.0000000000003,7.999999999999999,0,0],
[96.0,68.80000000000037,7.999999999999999,0,0],
[96.0,67.60000000000043,7.999999999999999,0,0],
[96.0,66.30000000000052,7.0,0,0],
[96.0,65.10000000000058,7.0,0,0],
[97.0,63.80000000000064,7.0,0,0],
[97.0,62.60000000000062,7.0,0,0],
[97.0,61.4000000000006,7.0,0,0],
[97.0,60.10000000000059,7.0,0,0],
[97.0,58.90000000000057,7.0,0,0],
[97.0,57.60000000000055,7.0,0,0],
[97.0,56.40000000000053,7.0,0,0],
[97.0,55.20000000000052,6.0,0,0],
[97.0,53.900000000000496,6.0,0,0],
[98.0,52.70000000000048,6.0,0,0],
[98.0,51.50000000000046,6.0,0,0],
[98.0,50.20000000000045,6.0,0,0],
[98.0,49.00000000000043,6.0,0,0],
[97.0,47.70000000000041,6.0,0,0],
[96.0,46.50000000000039,6.0,0,0],
[94.00000000000001,45.30000000000038,6.0,0,0],
[92.00000000000001,44.00000000000036,5.0,0,0],
[90.00000000000001,42.80000000000034,5.0,0,0],
[89.00000000000001,41.50000000000032,5.0,0,0],
[87.00000000000001,40.30000000000031,5.0,0,0],
[85.00000000000001,39.100000000000286,5.0,1,0],
[94.00000000000001,46.60000000000039,5.0,0,0],
[92.0,45.60000000000038,5.0,0,0],
[90.00000000000001,44.600000000000364,5.0,0,0],
[88.00000000000001,43.60000000000035,5.0,0,0],
[86.0,42.600000000000335,5.0,0,0],
[84.0,41.60000000000032,5.0,0,0],
[82.00000000000001,40.60000000000031,5.0,0,0],
[80.0,39.60000000000029,5.0,1,0],
[89.99999999999999,38.70000000000028,5.0,1,0],
[87.0,38.10000000000027,6.0,1,0],
[84.0,37.70000000000026,7.0,1,0],
[82.0,37.700000000000266,6.999999999999999,1,0],
[81.0,37.90000000000027,9.0,1,0],
[80.0,38.50000000000028,11.0,1,0],
[80.0,39.40000000000029,13.0,1,0],
[79.0,40.70000000000031,17.0,0,0],
[79.0,39.6000000000003,19.0,1,0],
[79.0,41.40000000000032,25.0,0,0],
[79.0,40.500000000000306,26.999999999999996,0,0],
[78.0,39.50000000000029,29.0,1,0],
[79.0,41.70000000000032,30.999999999999996,0,0],
[78.0,40.7000000000003,29.999999999999996,0,0],
[77.0,39.60000000000029,29.999999999999996,1,0],
[77.99999999999999,42.40000000000033,28.0,0,0],
[77.99999999999999,41.50000000000031,28.0,0,0],
[77.0,40.500000000000306,27.000000000000004,0,0],
[76.0,39.60000000000029,27.000000000000004,1,0],
[77.0,43.00000000000034,26.0,0,0],
[77.0,41.900000000000325,24.999999999999996,0,0],
[76.0,40.8000000000003,24.999999999999996,0,0],
[75.0,39.80000000000029,23.999999999999996,1,0],
[77.0,44.10000000000036,22.999999999999996,0,0],
[76.0,43.10000000000034,22.999999999999996,0,0],
[75.0,42.10000000000033,22.0,0,0],
[74.0,41.10000000000031,22.0,0,0],
[73.0,40.1000000000003,21.0,0,0],
[72.0,39.100000000000286,21.0,1,0],
[74.0,44.700000000000365,21.0,0,0],
[73.0,43.70000000000035,20.0,0,0],
[72.0,42.80000000000034,20.0,0,0],
[71.0,41.900000000000325,19.0,0,0],
[70.0,40.90000000000031,19.0,0,0],
[69.0,40.0000000000003,19.0,0,0],
[68.0,39.000000000000284,18.0,1,0],
[71.0,46.10000000000039,18.0,0,0],
[70.0,45.00000000000037,18.0,0,0],
[68.0,43.80000000000035,17.0,0,0],
[67.0,42.70000000000034,17.0,0,0],
[66.0,41.60000000000032,16.0,0,0],
[65.0,40.400000000000304,16.0,0,0],
[64.0,39.30000000000029,16.0,1,0],
[67.0,48.900000000000425,15.000000000000002,0,0],
[66.0,47.90000000000041,15.000000000000002,0,0],
[64.0,46.800000000000395,15.000000000000002,0,0],
[63.0,45.70000000000038,15.000000000000002,0,0],
[61.0,44.600000000000364,14.000000000000002,0,0],
[60.00000000000001,43.50000000000035,14.000000000000002,0,0],
[59.0,42.500000000000334,14.000000000000002,0,0],
[57.00000000000001,41.40000000000032,13.0,0,0],
[56.0,40.3000000000003,13.0,0,0],
[54.0,39.20000000000029,13.0,1,0],
[58.0,38.00000000000027,13.0,1,0],
[62.0,36.50000000000025,13.000000000000002,1,0],
[68.0,35.20000000000023,13.0,1,0],
[77.0,34.30000000000022,14.000000000000002,1,0],
[92.0,33.60000000000021,15.0,1,0],
[116.99999999999999,33.2000000000002,17.0,1,0],
[146.0,33.2000000000002,19.0,1,0],
[144.0,33.500000000000206,22.0,1,0],
[143.0,34.100000000000215,26.0,1,0],
[143.0,35.20000000000023,32.0,1,0],
[144.0,36.70000000000025,30.999999999999996,1,0],
[146.0,38.70000000000028,30.0,1,0],
[149.0,41.40000000000032,28.000000000000004,0,0],
[148.0,40.400000000000304,28.000000000000004,0,0],
[147.0,39.50000000000029,27.0,1,0],
[142.0,42.80000000000034,26.0,0,0],
[144.0,41.70000000000032,26.0,0,0],
[145.0,40.70000000000031,25.000000000000004,0,0],
[147.0,39.60000000000029,25.000000000000004,1,0],
[127.0,43.80000000000035,23.999999999999996,0,0],
[128.0,42.80000000000034,23.0,0,0],
[129.0,41.800000000000324,23.0,0,0],
[130.0,40.90000000000031,22.0,0,0],
[131.0,39.90000000000029,22.0,1,0],
[115.99999999999999,45.20000000000037,22.0,0,0],
[116.99999999999999,44.30000000000036,21.0,0,0],
[116.99999999999999,43.40000000000035,21.0,0,0],
[118.0,42.500000000000334,20.0,0,0],
[119.0,41.60000000000032,20.0,0,0],
[119.0,40.70000000000031,20.0,0,0],
[120.0,39.800000000000296,19.0,1,0],
[108.99999999999999,46.40000000000039,19.0,0,0],
[108.99999999999999,45.300000000000374,19.0,0,0],
[110.0,44.20000000000036,18.0,0,0],
[110.0,43.200000000000344,18.0,0,0],
[111.0,42.100000000000335,17.0,0,0],
[112.0,41.00000000000031,17.0,0,0],
[112.0,39.9000000000003,17.0,1,0],
[103.0,48.900000000000425,16.0,0,0],
[103.0,47.90000000000041,16.0,0,0],
[104.0,46.800000000000395,16.0,0,0],
[104.0,45.80000000000038,15.000000000000002,0,0],
[105.00000000000001,44.80000000000036,15.000000000000002,0,0],
[105.00000000000001,43.80000000000035,15.000000000000002,0,0],
[106.0,42.80000000000034,15.000000000000002,0,0],
[106.0,41.800000000000324,13.999999999999998,0,0],
[107.0,40.80000000000031,13.999999999999998,0,0],
[107.0,39.800000000000296,13.999999999999998,1,0],
[99.00000000000001,52.50000000000047,14.0,0,0],
[100.00000000000001,51.60000000000046,13.0,0,0],
[100.00000000000001,50.70000000000045,13.0,0,0],
[100.00000000000001,49.80000000000043,13.0,0,0],
[100.00000000000001,48.900000000000425,13.0,0,0],
[101.0,48.00000000000041,13.0,0,0],
[101.0,47.10000000000039,12.0,0,0],
[101.0,46.20000000000039,12.0,0,0],
[101.0,45.30000000000037,12.0,0,0],
[102.00000000000001,44.400000000000354,12.0,0,0],
[102.00000000000001,43.50000000000035,12.0,0,0],
[102.00000000000001,42.600000000000335,11.0,0,0],
[103.00000000000001,41.70000000000032,11.0,0,0],
[103.00000000000001,40.80000000000031,11.0,0,0],
[103.00000000000001,39.9000000000003,11.0,1,0],
[96.99999999999999,60.600000000000584,11.0,0,0],
[96.99999999999999,59.900000000000574,11.0,0,0],
[96.99999999999999,59.20000000000057,11.0,0,0],
[96.99999999999999,58.500000000000554,11.0,0,0],
[96.99999999999999,57.80000000000055,10.0,0,0],
[96.99999999999999,57.100000000000534,10.0,0,0],
[96.99999999999999,56.40000000000053,10.0,0,0],
[96.99999999999999,55.70000000000052,10.0,0,0],
[98.0,55.00000000000051,10.0,0,0],
[98.0,54.300000000000495,10.0,0,0],
[98.0,53.70000000000049,10.0,0,0],
[98.0,53.00000000000048,10.0,0,0],
[98.0,52.30000000000047,10.0,0,0],
[98.0,51.60000000000046,10.0,0,0],
[98.0,50.90000000000045,9.0,0,0],
[98.0,50.20000000000044,9.0,0,0],
[99.0,49.500000000000426,9.0,0,0],
[99.0,48.800000000000416,9.0,0,0],
[99.0,48.10000000000041,9.0,0,0],
[99.0,47.400000000000404,9.0,0,0],
[99.0,46.700000000000394,9.0,0,0],
[99.0,46.00000000000038,9.0,0,0],
[99.0,45.40000000000037,9.0,0,0],
[99.0,44.700000000000365,7.999999999999999,0,0],
[99.99999999999999,44.00000000000035,7.999999999999999,0,0],
[99.99999999999999,43.300000000000345,7.999999999999999,0,0],
[99.99999999999999,42.600000000000335,7.999999999999999,0,0],
[99.99999999999999,41.90000000000032,7.999999999999999,0,0],
[99.99999999999999,41.200000000000315,7.999999999999999,0,0],
[99.99999999999999,40.500000000000306,7.999999999999999,0,0],
[99.0,39.800000000000296,7.999999999999999,1,0],
[95.0,59.70000000000058,8.0,0,0],
[95.0,58.700000000000564,8.0,0,0],
[95.0,57.70000000000055,8.0,0,0],
[95.0,56.700000000000536,7.000000000000001,0,0],
[95.0,55.70000000000052,7.000000000000001,0,0],
[96.0,54.70000000000051,7.000000000000001,0,0],
[96.0,53.70000000000049,7.000000000000001,0,0],
[96.0,52.70000000000048,7.000000000000001,0,0],
[94.0,51.70000000000046,7.000000000000001,0,0],
[92.0,50.70000000000045,7.000000000000001,0,0],
[91.0,49.700000000000436,7.000000000000001,0,0],
[89.0,48.70000000000042,7.000000000000001,0,0],
[87.0,47.70000000000041,6.000000000000001,0,0],
[85.0,46.70000000000039,6.000000000000001,0,0],
[83.0,45.70000000000038,6.000000000000001,0,0],
[82.0,44.700000000000365,6.000000000000001,0,0],
[80.0,43.70000000000035,6.000000000000001,0,0],
[78.0,42.70000000000034,6.000000000000001,0,0],
[76.0,41.70000000000032,6.000000000000001,0,0],
[74.0,40.70000000000031,6.000000000000001,0,0],
[73.0,39.700000000000294,6.000000000000001,1,0],
[80.0,38.60000000000028,6.0,1,0],
[89.0,37.80000000000026,6.0,1,0],
[86.0,37.20000000000026,7.0,1,0],
[83.0,36.900000000000254,8.0,1,0],
[82.0,36.900000000000254,9.0,1,0],
[80.0,37.20000000000026,10.0,1,0],
[79.0,37.80000000000027,12.0,1,0],
[79.0,38.90000000000029,14.999999999999998,1,0],
[79.0,40.2000000000003,20.0,0,0],
[78.0,39.20000000000029,22.0,1,0],
[79.0,41.100000000000314,29.999999999999996,0,0],
[78.0,40.1000000000003,32.0,0,0],
[78.0,39.20000000000029,31.0,1,0],
[79.0,41.50000000000032,30.000000000000004,0,0],
[78.0,40.400000000000304,29.0,0,0],
[77.0,39.40000000000029,28.000000000000004,1,0],
[79.0,42.40000000000033,27.000000000000004,0,0],
[78.0,41.40000000000032,27.000000000000004,0,0],
[77.0,40.400000000000304,26.000000000000004,0,0],
[76.0,39.40000000000029,26.000000000000004,1,0],
[78.0,43.200000000000344,25.000000000000004,0,0],
[77.0,42.30000000000033,24.0,0,0],
[76.0,41.40000000000031,24.0,0,0],
[75.0,40.500000000000306,22.999999999999996,0,0],
[74.0,39.50000000000029,22.999999999999996,1,0],
[77.0,44.20000000000036,22.0,0,0],
[75.0,43.20000000000035,22.0,0,0],
[74.0,42.10000000000033,21.0,0,0],
[73.0,41.00000000000031,21.0,0,0],
[72.0,40.0000000000003,20.0,0,0],
[71.0,38.90000000000029,20.0,1,0],
[74.0,45.00000000000037,20.000000000000004,0,0],
[73.0,44.00000000000036,19.0,0,0],
[72.0,43.00000000000035,19.0,0,0],
[71.0,42.00000000000033,18.0,0,0],
[70.0,41.00000000000031,18.0,0,0],
[68.0,40.0000000000003,18.0,0,0],
[67.0,39.00000000000029,17.0,1,0],
[71.0,47.1000000000004,17.0,0,0],
[69.0,46.100000000000385,17.0,0,0],
[68.0,45.200000000000365,16.0,0,0],
[67.0,44.30000000000036,16.0,0,0],
[66.0,43.40000000000035,16.0,0,0],
[65.0,42.40000000000033,16.0,0,0],
[63.0,41.50000000000032,15.000000000000002,0,0],
[62.0,40.60000000000031,15.000000000000002,0,0],
[61.0,39.700000000000294,15.000000000000002,1,0],
[64.0,45.30000000000038,14.999999999999998,0,0],
[63.00000000000001,44.30000000000036,13.999999999999998,0,0],
[61.0,43.300000000000345,13.999999999999998,0,0],
[60.0,42.20000000000033,13.999999999999998,0,0],
[58.0,41.200000000000315,13.999999999999998,0,0],
[57.0,40.2000000000003,13.999999999999998,0,0],
[56.0,39.100000000000286,12.999999999999998,1,0],
[59.0,37.40000000000026,13.000000000000002,1,0],
[64.0,36.00000000000024,14.000000000000002,1,0],
[71.0,34.900000000000226,14.0,1,0],
[82.0,34.00000000000021,15.000000000000002,1,0],
[100.00000000000001,33.500000000000206,17.0,1,0],
[131.0,33.2000000000002,18.0,1,0],
[144.0,33.3000000000002,21.0,1,0],
[142.00000000000003,33.70000000000021,23.999999999999996,1,0],
[142.0,34.50000000000023,28.999999999999996,1,0],
[142.0,35.80000000000024,32.0,1,0],
[144.0,37.50000000000026,31.0,1,0],
[146.0,39.700000000000294,29.000000000000004,1,0],
[149.0,42.600000000000335,28.0,0,0],
[148.0,41.60000000000033,28.0,0,0],
[148.0,40.70000000000031,27.0,0,0],
[147.0,39.700000000000294,26.0,1,0],
[136.0,43.200000000000344,26.000000000000004,0,0],
[138.0,42.10000000000033,25.0,0,0],
[139.0,41.00000000000031,24.000000000000004,0,0],
[140.0,39.9000000000003,24.000000000000004,1,0],
[123.0,44.40000000000036,23.0,0,0],
[124.00000000000001,43.30000000000034,23.0,0,0],
[124.00000000000001,42.300000000000324,22.0,0,0],
[125.0,41.30000000000032,22.0,0,0],
[126.0,40.300000000000296,21.0,0,0],
[126.99999999999999,39.30000000000029,21.0,1,0],
[113.0,45.00000000000037,20.0,0,0],
[114.00000000000001,44.000000000000355,20.0,0,0],
[115.00000000000001,43.00000000000034,20.0,0,0],
[116.0,42.10000000000033,19.0,0,0],
[116.0,41.100000000000314,19.0,0,0],
[117.0,40.2000000000003,18.0,0,0],
[118.0,39.20000000000029,18.0,1,0],
[107.0,46.700000000000394,17.999999999999996,0,0],
[107.0,45.90000000000038,17.999999999999996,0,0],
[107.0,45.00000000000037,17.0,0,0],
[108.0,44.10000000000036,17.0,0,0],
[108.0,43.30000000000034,17.0,0,0],
[109.0,42.40000000000033,16.0,0,0],
[109.0,41.50000000000032,16.0,0,0],
[110.0,40.70000000000031,16.0,0,0],
[110.0,39.800000000000296,14.999999999999998,1,0],
[102.0,49.70000000000044,15.0,0,0],
[102.0,48.60000000000042,15.0,0,0],
[102.0,47.500000000000405,15.0,0,0],
[103.0,46.40000000000039,14.0,0,0],
[103.0,45.30000000000038,14.0,0,0],
[104.0,44.20000000000036,14.0,0,0],
[104.0,43.10000000000034,14.0,0,0],
[105.0,42.00000000000033,12.999999999999998,0,0],
[105.0,40.90000000000031,12.999999999999998,0,0],
[105.0,39.700000000000294,12.999999999999998,1,0],
[98.0,54.500000000000504,13.0,0,0],
[98.0,53.40000000000049,12.0,0,0],
[99.0,52.400000000000475,12.0,0,0],
[99.0,51.40000000000045,12.0,0,0],
[99.0,50.300000000000445,12.0,0,0],
[100.0,49.30000000000043,12.0,0,0],
[100.0,48.300000000000416,11.0,0,0],
[100.0,47.2000000000004,11.0,0,0],
[100.0,46.20000000000039,11.0,0,0],
[101.0,45.20000000000037,11.0,0,0],
[101.0,44.10000000000036,11.0,0,0],
[101.0,43.10000000000034,10.0,0,0],
[101.0,42.10000000000033,10.0,0,0],
[102.0,41.00000000000031,10.0,0,0],
[102.0,40.0000000000003,10.0,0,0],
[102.0,39.000000000000284,9.0,1,0],
[96.0,65.20000000000057,10.0,0,0],
[96.0,64.30000000000062,10.0,0,0],
[96.0,63.400000000000624,9.0,0,0],
[96.0,62.60000000000061,9.0,0,0],
[96.0,61.7000000000006,9.0,0,0],
[97.0,60.80000000000059,9.0,0,0],
[97.0,59.90000000000058,9.0,0,0],
[97.0,59.10000000000057,9.0,0,0],
[97.0,58.20000000000056,9.0,0,0],
[97.0,57.300000000000544,9.0,0,0],
[97.0,56.40000000000053,9.0,0,0],
[97.0,55.60000000000052,8.0,0,0],
[97.0,54.70000000000051,8.0,0,0],
[98.0,53.800000000000495,8.0,0,0],
[98.0,52.90000000000048,8.0,0,0],
[98.0,52.10000000000047,8.0,0,0],
[98.0,51.20000000000045,8.0,0,0],
[98.0,50.30000000000044,8.0,0,0],
[98.0,49.40000000000043,8.0,0,0],
[98.0,48.60000000000041,8.0,0,0],
[98.0,47.70000000000041,7.0,0,0],
[98.99999999999999,46.80000000000039,7.0,0,0],
[98.99999999999999,45.90000000000038,7.0,0,0],
[98.99999999999999,45.10000000000037,7.0,0,0],
[98.99999999999999,44.20000000000036,7.0,0,0],
[98.99999999999999,43.300000000000345,7.0,0,0],
[98.99999999999999,42.400000000000325,7.0,0,0],
[98.99999999999999,41.60000000000032,7.0,0,0],
[97.0,40.7000000000003,7.0,0,0],
[96.0,39.800000000000296,6.0,1,0],
[94.0,55.10000000000052,7.0,0,0],
[94.0,54.1000000000005,7.0,0,0],
[94.0,53.100000000000485,7.0,0,0],
[94.0,52.10000000000048,7.0,0,0],
[94.0,51.10000000000045,7.0,0,0],
[94.0,50.10000000000044,7.0,0,0],
[94.0,49.10000000000043,7.0,0,0],
[92.0,48.100000000000406,7.0,0,0],
[90.00000000000001,47.1000000000004,7.0,0,0],
[88.00000000000001,46.100000000000385,7.0,0,0],
[86.0,45.10000000000037,7.0,0,0],
[84.00000000000001,44.10000000000036,7.0,0,0],
[83.0,43.10000000000034,7.0,0,0],
[81.0,42.10000000000033,7.0,0,0],
[79.00000000000001,41.100000000000314,7.0,0,0],
[77.0,40.1000000000003,7.0,0,0],
[75.0,39.100000000000286,7.0,1,0],
[83.99999999999999,38.100000000000264,7.0,1,0],
[87.0,37.40000000000026,7.0,1,0],
[84.0,36.900000000000254,8.0,1,0],
[82.0,36.70000000000026,9.0,1,0],
[80.0,36.80000000000025,10.0,1,0],
[79.0,37.30000000000026,13.000000000000002,1,0],
[78.0,38.00000000000027,15.0,1,0],
[78.0,39.20000000000029,19.0,1,0],
[78.0,40.7000000000003,26.0,0,0],
[78.0,39.700000000000294,28.0,1,0],
[78.0,41.70000000000032,32.0,0,0],
[78.0,40.70000000000031,31.0,0,0],
[77.0,39.700000000000294,30.0,1,0],
[78.0,42.40000000000033,28.999999999999996,0,0],
[77.0,41.50000000000032,28.999999999999996,0,0],
[76.0,40.500000000000306,28.0,0,0],
[75.0,39.60000000000029,26.999999999999996,1,0],
[77.0,42.80000000000034,25.999999999999996,0,0],
[76.0,41.800000000000324,25.999999999999996,0,0],
[75.00000000000001,40.8000000000003,25.0,0,0],
[74.00000000000001,39.700000000000294,25.0,1,0],
[75.99999999999999,43.900000000000354,24.000000000000004,0,0],
[75.0,42.90000000000034,24.000000000000004,0,0],
[73.99999999999999,41.900000000000325,23.0,0,0],
[73.0,41.00000000000031,23.0,0,0],
[72.0,40.0000000000003,22.0,0,0],
[71.0,39.000000000000284,22.0,1,0],
[73.0,44.30000000000036,21.0,0,0],
[72.0,43.40000000000035,21.0,0,0],
[71.0,42.500000000000334,20.000000000000004,0,0],
[70.0,41.60000000000032,20.000000000000004,0,0],
[69.0,40.7000000000003,20.000000000000004,0,0],
[68.0,39.8000000000003,19.0,1,0],
[71.0,46.40000000000039,19.0,0,0],
[70.0,45.400000000000375,19.0,0,0],
[69.0,44.30000000000036,18.0,0,0],
[67.0,43.200000000000344,18.0,0,0],
[66.0,42.10000000000033,17.0,0,0],
[65.0,41.10000000000031,17.0,0,0],
[64.0,40.0000000000003,17.0,0,0],
[63.0,38.90000000000028,16.0,1,0],
[66.0,47.900000000000404,16.0,0,0],
[64.0,46.9000000000004,16.0,0,0],
[62.99999999999999,45.90000000000038,15.0,0,0],
[62.0,44.80000000000036,15.0,0,0],
[60.0,43.80000000000036,15.0,0,0],
[59.0,42.80000000000034,13.999999999999998,0,0],
[58.0,41.800000000000324,13.999999999999998,0,0],
[56.0,40.80000000000031,13.999999999999998,0,0],
[54.99999999999999,39.800000000000296,13.999999999999998,1,0],
[58.0,39.30000000000029,14.0,1,0],
[61.99999999999999,37.700000000000266,13.999999999999998,1,0],
[67.0,36.40000000000025,14.0,1,0],
[76.0,35.30000000000023,15.0,1,0],
[87.99999999999999,34.50000000000022,15.999999999999998,1,0],
[108.00000000000001,34.00000000000021,17.0,1,0],
[146.0,33.80000000000021,19.0,1,0],
[144.0,34.00000000000021,22.0,1,0],
[142.0,34.50000000000022,26.0,1,0],
[142.0,35.40000000000023,30.999999999999996,1,0],
[142.0,36.70000000000025,33.0,1,0],
[144.0,38.60000000000028,31.000000000000004,1,0],
[146.0,40.80000000000031,30.000000000000004,0,0],
[146.0,39.800000000000296,28.999999999999996,1,0],
[149.0,42.70000000000034,27.999999999999996,0,0],
[148.0,41.70000000000032,27.000000000000004,0,0],
[147.0,40.80000000000031,27.000000000000004,0,0],
[146.00000000000003,39.800000000000296,26.0,1,0],
[134.0,43.50000000000035,25.0,0,0],
[135.0,42.600000000000335,25.0,0,0],
[136.0,41.700000000000315,24.0,0,0],
[137.0,40.80000000000031,24.0,0,0],
[138.0,39.9000000000003,23.0,1,0],
[121.0,44.40000000000036,23.0,0,0],
[122.0,43.40000000000034,22.0,0,0],
[123.00000000000001,42.300000000000324,22.0,0,0],
[124.0,41.30000000000032,21.0,0,0],
[124.99999999999999,40.3000000000003,21.0,0,0],
[125.99999999999999,39.20000000000028,20.0,1,0],
[112.0,45.100000000000364,20.0,0,0],
[112.99999999999999,44.10000000000036,20.0,0,0],
[114.0,43.10000000000034,19.0,0,0],
[114.0,42.20000000000032,19.0,0,0],
[115.0,41.20000000000031,18.0,0,0],
[116.0,40.2000000000003,18.0,0,0],
[116.0,39.20000000000028,18.0,1,0],
[106.0,47.000000000000405,18.0,0,0],
[106.0,46.100000000000385,17.0,0,0],
[107.0,45.20000000000038,17.0,0,0],
[107.0,44.30000000000036,17.0,0,0],
[108.0,43.500000000000355,16.0,0,0],
[108.0,42.600000000000335,16.0,0,0],
[109.0,41.70000000000032,16.0,0,0],
[109.0,40.80000000000031,15.0,0,0],
[109.0,39.900000000000304,15.0,1,0],
[101.0,50.20000000000045,14.999999999999998,0,0],
[101.0,49.10000000000043,14.999999999999998,0,0],
[101.99999999999999,47.90000000000042,14.0,0,0],
[101.99999999999999,46.800000000000395,14.0,0,0],
[102.99999999999999,45.60000000000038,14.0,0,0],
[102.99999999999999,44.50000000000036,13.0,0,0],
[104.0,43.300000000000345,13.0,0,0],
[104.0,42.10000000000033,13.0,0,0],
[104.0,41.00000000000031,13.0,0,0],
[105.0,39.8000000000003,11.999999999999998,1,0],
[97.99999999999999,55.50000000000052,12.000000000000002,0,0],
[97.99999999999999,54.4000000000005,12.000000000000002,0,0],
[97.99999999999999,53.30000000000049,12.000000000000002,0,0],
[99.0,52.20000000000047,12.000000000000002,0,0],
[99.0,51.100000000000456,11.0,0,0],
[99.0,50.00000000000043,11.0,0,0],
[99.0,48.900000000000425,11.0,0,0],
[100.0,47.80000000000041,11.0,0,0],
[100.0,46.70000000000039,11.0,0,0],
[100.0,45.60000000000038,10.0,0,0],
[100.0,44.50000000000036,10.0,0,0],
[100.99999999999999,43.40000000000035,10.0,0,0],
[100.99999999999999,42.40000000000033,10.0,0,0],
[100.99999999999999,41.30000000000032,10.0,0,0],
[101.99999999999999,40.20000000000031,9.0,0,0],
[101.99999999999999,39.10000000000028,9.0,1,0],
[96.0,68.00000000000041,9.0,0,0],
[96.0,67.00000000000047,9.0,0,0],
[96.0,66.10000000000052,9.0,0,0],
[96.0,65.10000000000059,9.0,0,0],
[96.0,64.10000000000063,9.0,0,0],
[96.0,63.20000000000063,9.0,0,0],
[96.0,62.20000000000062,9.0,0,0],
[97.0,61.30000000000061,8.0,0,0],
[97.0,60.300000000000594,8.0,0,0],
[97.0,59.30000000000057,8.0,0,0],
[97.0,58.40000000000056,8.0,0,0],
[97.0,57.400000000000546,8.0,0,0],
[97.0,56.40000000000053,8.0,0,0],
[97.0,55.50000000000052,8.0,0,0],
[97.0,54.50000000000051,8.0,0,0],
[97.99999999999999,53.50000000000049,8.0,0,0],
[97.99999999999999,52.600000000000485,6.999999999999999,0,0],
[97.99999999999999,51.60000000000046,6.999999999999999,0,0],
[97.99999999999999,50.70000000000046,6.999999999999999,0,0],
[97.99999999999999,49.700000000000436,6.999999999999999,0,0],
[97.99999999999999,48.70000000000042,6.999999999999999,0,0],
[97.99999999999999,47.80000000000041,6.999999999999999,0,0],
[97.99999999999999,46.800000000000395,6.999999999999999,0,0],
[99.0,45.80000000000039,6.999999999999999,0,0],
[99.0,44.90000000000037,6.999999999999999,0,0],
[99.0,43.90000000000036,6.0,0,0],
[99.0,42.90000000000034,6.0,0,0],
[97.0,42.000000000000334,6.0,0,0],
[96.0,41.00000000000031,6.0,0,0],
[93.99999999999999,40.0000000000003,6.0,0,0],
[91.99999999999999,39.100000000000286,6.0,1,0],
[94.0,52.300000000000466,6.0,0,0],
[94.0,51.30000000000046,6.0,0,0],
[94.0,50.300000000000445,6.0,0,0],
[94.0,49.30000000000042,6.0,0,0],
[94.0,48.300000000000416,6.0,0,0],
[92.0,47.300000000000395,6.0,0,0],
[90.0,46.30000000000039,6.0,0,0],
[88.0,45.300000000000374,6.0,0,0],
[86.0,44.30000000000036,6.0,0,0],
[85.0,43.30000000000034,6.0,0,0],
[83.0,42.30000000000033,6.0,0,0],
[81.0,41.30000000000032,6.0,0,0],
[79.0,40.3000000000003,6.0,0,0],
[77.0,39.30000000000029,6.0,1,0],
[86.0,38.400000000000276,5.999999999999999,1,0],
[87.0,37.700000000000266,7.0,1,0],
[84.0,37.20000000000025,8.0,1,0],
[81.99999999999999,37.000000000000256,9.0,1,0],
[79.99999999999999,37.20000000000026,10.0,1,0],
[79.00000000000001,37.700000000000266,12.0,1,0],
[79.0,38.50000000000028,15.000000000000002,1,0],
[79.0,39.80000000000029,19.0,1,0],
[79.0,41.30000000000032,25.0,0,0],
[78.0,40.20000000000031,27.0,0,0],
[77.0,39.20000000000029,29.000000000000004,1,0],
[78.0,41.30000000000032,31.0,0,0],
[77.0,40.3000000000003,29.999999999999996,0,0],
[77.0,39.30000000000029,29.999999999999996,1,0],
[77.99999999999999,42.00000000000033,29.000000000000004,0,0],
[77.0,41.00000000000031,28.0,0,0],
[76.0,40.1000000000003,27.0,0,0],
[75.0,39.100000000000286,27.0,1,0],
[77.0,42.40000000000033,26.000000000000004,0,0],
[76.0,41.40000000000032,25.0,0,0],
[75.0,40.400000000000304,25.0,0,0],
[74.0,39.30000000000028,24.000000000000004,1,0],
[76.0,43.50000000000035,24.0,0,0],
[75.0,42.500000000000334,23.0,0,0],
[74.0,41.60000000000032,23.0,0,0],
[73.0,40.600000000000314,21.999999999999996,0,0],
[72.0,39.6000000000003,21.999999999999996,1,0],
[75.0,45.00000000000037,21.0,0,0],
[73.0,44.10000000000036,21.0,0,0],
[72.0,43.200000000000344,20.0,0,0],
[71.0,42.20000000000033,20.0,0,0],
[70.0,41.30000000000032,20.0,0,0],
[69.0,40.400000000000304,19.0,0,0],
[68.0,39.50000000000029,19.0,1,0],]

neuronCarTurn = Neuron(sigmoid)

#turn_hypothesis = train_Neuron_linear_classifier_2D_turn(neuronCarTurn, database)

neuronCarLeftOrRight = Neuron(sigmoid)

#leftOrRight_hypothesis = train_Neuron_linear_classifier_2D_leftOrRight(neuronCarLeftOrRight, database)

turn_hypothesis = Neuron(sigmoid)

leftOrRight_hypothesis = Neuron(sigmoid)

turn_hypothesis.adjust_weight([-0.21360617662567738, 0.06223430790317819, 0.26371270914387535])
leftOrRight_hypothesis.adjust_weight([-0.1136540725105637, -0.13999102803331853, 0.44479212652137035])

def main():
    """Boucle principal de la simulation"""

    #Initialisation de la fenetre Pygame
    pygame.init()
    screen = pygame.display.set_mode((SCREEN_X, SCREEN_Y))
    pygame.display.set_caption('Car simulateur')

    # Remplissage de l'arrière-plan
    background = pygame.Surface(screen.get_size())
    background = background.convert()
    background.fill((255, 255, 255))

    #Initialisation de la voiture et de l'IA
    global Obstacle_list
    Obstacle_list = [Obstacle((0,0,0),50,100), Obstacle((0,0,0),50,100), Obstacle((0,0,0),50,100)]
    car = Car_ai()

    #Initialisation des Sprites
    carsprite = pygame.sprite.RenderPlain(car)
    wallsprite_list = []
    for obstacle in Obstacle_list:
        wallsprite_list.append(pygame.sprite.RenderPlain(obstacle))

    # Blitter pour rendus dans la fenêtre (création des rendus 2D dans fenetre)
    screen.blit(background, (0, 0))
    pygame.display.flip()

    # Initialisation de l'horloge pour regulation fps
    clock = pygame.time.Clock()

    #Infinite loop de la simulation
    while 1:

        # Ecoute d'evenements coté user (ex: fermer la fenetre)
        for event in pygame.event.get():
	           if event.type == QUIT:
		                 return

        # Rendus des sprites
        screen.blit(background, car.rect, car.rect)
        carsprite.update()
        for obstacle in Obstacle_list:
            screen.blit(background, obstacle.rect, obstacle.rect)
        carsprite.draw(screen)
        for wall in wallsprite_list:
            wall.draw(screen)
        pygame.display.flip()
        clock.tick(60)

if __name__ == '__main__': main()
